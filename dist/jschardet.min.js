(function(l){"object"===typeof exports&&"undefined"!==typeof module?module.exports=l():"function"===typeof define&&define.amd?define([],l):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).jschardet=l()})(function(){return function a(e,f,d){function g(b,h){if(!f[b]){if(!e[b]){var c="function"==typeof require&&require;if(!h&&c)return c(b,!0);if(k)return k(b,!0);c=Error("Cannot find module '"+b+"'");throw c.code="MODULE_NOT_FOUND",c;}c=f[b]=
{exports:{}};e[b][0].call(c.exports,function(a){var c=e[b][1][a];return g(c?c:a)},c,c.exports,a,e,f,d)}return f[b].exports}for(var k="function"==typeof require&&require,b=0;b<d.length;b++)g(d[b]);return g}({1:[function(a,e,f){e.exports=a("./src")},{"./src":6}],2:[function(a,e,f){function d(){k.apply(this);this.reset=function(){d.prototype.reset.apply(this);for(var a=this._mActiveNum=0,h;h=this._mProbers[a];a++)h&&(h.reset(),h.active=!0,this._mActiveNum++);this._mBestGuessProber=null};this.getCharsetName=
function(){return this._mBestGuessProber||(this.getConfidence(),this._mBestGuessProber)?this._mBestGuessProber.getCharsetName():null};this.feed=function(a){for(var h=0,c;c=this._mProbers[h];h++)if(c&&c.active){var b=c.feed(a);if(b)if(b==g.foundIt){this._mBestGuessProber=c;break}else if(b==g.notMe&&(c.active=!1,this._mActiveNum--,0>=this._mActiveNum)){this._mState=g.notMe;break}}return this.getState()};this.getConfidence=function(){var a=this.getState();if(a==g.foundIt)return.99;if(a==g.notMe)return.01;
a=0;this._mBestGuessProber=null;for(var h=0,c;c=this._mProbers[h];h++)if(c)if(c.active){var d=c.getConfidence();b.enabled&&b.log(c.getCharsetName()+" confidence = "+d+"\n");a<d&&(a=d,this._mBestGuessProber=c)}else b.enabled&&b.log(c.getCharsetName()+" not active\n");return this._mBestGuessProber?a:0};this._mActiveNum=0;this._mProbers=[];this._mBestGuessProber=null}var g=a("./constants"),k=a("./charsetprober"),b=a("./logger");d.prototype=new k;e.exports=d},{"./charsetprober":3,"./constants":5,"./logger":8}],
3:[function(a,e,f){var d=a("./constants");e.exports=function(){this.reset=function(){this._mState=d.detecting};this.getCharsetName=function(){return null};this.feed=function(a){};this.getState=function(){return this._mState};this.getConfidence=function(){return 0};this.filterHighBitOnly=function(a){return a=a.replace(/[\x00-\x7F]+/g," ")};this.filterWithoutEnglishLetters=function(a){return a=a.replace(/[A-Za-z]+/g," ")};this.filterWithEnglishLetters=function(a){for(var d="",b=!1,e=0,h=0;h<a.length;h++){var c=
a[h];">"==c?b=!1:"<"==c&&(b=!0);var n=/[a-zA-Z]/.test(c);/^[\x00-\x7F]*$/.test(c)&&!n&&(h>e&&!b&&(d=d+a.substring(e,h)+" "),e=h+1)}b||(d+=a.substring(e));return d}}},{"./constants":5}],4:[function(a,e,f){var d=a("./constants");e.exports=function(a){this.reset=function(){this._mCurrentState=d.start};this.nextState=function(a){a=this._mModel.classTable[a.charCodeAt(0)];this._mCurrentState==d.start&&(this._mCurrentBytePos=0,this._mCurrentCharLen=this._mModel.charLenTable[a]);this._mCurrentState=this._mModel.stateTable[this._mCurrentState*
this._mModel.classFactor+a];this._mCurrentBytePos++;return this._mCurrentState};this.getCurrentCharLen=function(){return this._mCurrentCharLen};this.getCodingStateMachine=function(){return this._mModel.name};this._mModel=a;this._mCurrentCharLen=this._mCurrentBytePos=0;this.reset()}},{"./constants":5}],5:[function(a,e,f){e.exports={detecting:0,foundIt:1,notMe:2,start:0,error:1,itsMe:2,SHORTCUT_THRESHOLD:.95}},{}],6:[function(a,e,f){var d=a("./universaldetector");a=a("./logger").setLogger;f.VERSION=
"1.4.1";f.detect=function(a,e){var b=new d(e);b.reset();"function"==typeof Buffer&&a instanceof Buffer?b.feed(a.toString("binary")):b.feed(a);b.close();return b.result};f.UniversalDetector=d;f.setLogger=a},{"./logger":8,"./universaldetector":11}],7:[function(a,e,f){function d(){g.apply(this);this.reset=function(){this._mLastCharClass=1;this._mFreqCounter=[];for(var a=0;4>a;this._mFreqCounter[a++]=0);d.prototype.reset.apply(this)};this.getCharsetName=function(){return"windows-1252"};this.feed=function(a){a=
this.filterWithEnglishLetters(a);for(var c=0;c<a.length;c++){var d=a.charCodeAt(c),d=b[d],e=m[8*this._mLastCharClass+d];if(0==e){this._mState=k.notMe;break}this._mFreqCounter[e]++;this._mLastCharClass=d}return this.getState()};this.getConfidence=function(){var a;if(this.getState()==k.notMe)return.01;for(var c=0,b=0;b<this._mFreqCounter.length;b++)c+=this._mFreqCounter[b];.01>c||(a=this._mFreqCounter[3]/c-20*this._mFreqCounter[1]/c);0>a&&(a=0);return.95*a};this.reset()}var g=a("./charsetprober"),k=
a("./constants"),b=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,0,1,7,1,1,1,1,1,1,5,1,5,0,5,0,0,1,1,1,1,1,1,1,1,1,7,1,7,0,7,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,5,5,4,4,4,4,4,4,4,4,5,5,4,4,4,4,4,1,4,4,4,4,4,5,5,5,6,6,6,6,6,6,7,7,6,6,6,6,6,6,6,6,7,
7,6,6,6,6,6,1,6,6,6,6,6,7,7,7],m=[0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,0,3,3,3,3,3,3,3,0,3,3,3,1,1,3,3,0,3,3,3,1,2,1,2,0,3,3,3,3,3,3,3,0,3,1,3,1,1,1,3,0,3,1,3,1,1,3,3];d.prototype=new g;e.exports=d},{"./charsetprober":3,"./constants":5}],8:[function(a,e,f){f.log=function(){};f.setLogger=function(a){f.enabled=!0;f.log=a?a:function(){console.log.apply(console,arguments)}}},{}],9:[function(a,e,f){function d(){g.apply(this);this._mProbers=[new k];this.reset()}var g=a("./charsetgroupprober"),k=a("./utf8prober");
d.prototype=new g;e.exports=d},{"./charsetgroupprober":2,"./utf8prober":12}],10:[function(a,e,f){a=a("../constants");e.exports={classTable:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,8,8,8,8,8,8,8,8,8,8,8,8,9,8,8,10,11,11,11,11,11,11,11,12,13,13,13,14,15,0,0],classFactor:16,stateTable:[a.error,a.start,a.error,a.error,a.error,a.error,12,10,9,11,8,7,6,5,4,3,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,
a.itsMe,a.itsMe,a.error,a.error,5,5,5,5,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,5,5,5,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,7,7,7,7,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,7,7,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,9,9,9,9,a.error,a.error,a.error,a.error,
a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,9,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,12,12,12,12,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,12,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,12,12,12,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,
a.error,a.error,a.error,a.start,a.start,a.start,a.start,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error],charLenTable:[0,1,0,0,0,0,2,3,3,3,4,4,5,5,6,6],name:"UTF-8"}},{"../constants":5}],11:[function(a,e,f){var d=a("./constants"),g=a("./mbcsgroupprober"),k=a("./latin1prober"),b=a("./logger");e.exports=function(a){a||(a={});a.minimumThreshold||(a.minimumThreshold=.2);this.reset=function(){this.result={encoding:null,confidence:0};this.done=!1;this._mStart=!0;this._mGotData=
!1;this._mInputState=0;this._mBOM=this._mLastChar="";this._mEscCharsetProber&&this._mEscCharsetProber.reset();for(var a=0,c;c=this._mCharsetProbers[a];a++)c.reset()};this.feed=function(a){if(!this.done&&a.length)if(this._mGotData||(this._mBOM+=a,"\u00ef\u00bb\u00bf"==this._mBOM.slice(0,3)?this.result={encoding:"UTF-8",confidence:1}:"\u00ff\u00fe\x00\x00"==this._mBOM.slice(0,4)?this.result={encoding:"UTF-32LE",confidence:1}:"\x00\x00\u00fe\u00ff"==this._mBOM.slice(0,4)?this.result={encoding:"UTF-32BE",
confidence:1}:"\u00fe\u00ff\x00\x00"==this._mBOM.slice(0,4)?this.result={encoding:"X-ISO-10646-UCS-4-3412",confidence:1}:"\x00\x00\u00ff\u00fe"==this._mBOM.slice(0,4)?this.result={encoding:"X-ISO-10646-UCS-4-2143",confidence:1}:"\u00ff\u00fe"==this._mBOM.slice(0,2)?this.result={encoding:"UTF-16LE",confidence:1}:"\u00fe\u00ff"==this._mBOM.slice(0,2)&&(this.result={encoding:"UTF-16BE",confidence:1}),3<this._mBOM.length&&(this._mGotData=!0)),this.result.encoding&&0<this.result.confidence)this.done=!0;
else if(0==this._mInputState&&(this._highBitDetector.test(a)?this._mInputState=2:this._escDetector.test(this._mLastChar+a)&&(this._mInputState=1)),this._mLastChar=a.slice(-1),1!=this._mInputState&&2==this._mInputState){0==this._mCharsetProbers.length&&(this._mCharsetProbers=[new g,new k]);for(var c=0,b;b=this._mCharsetProbers[c];c++)if(b.feed(a)==d.foundIt){this.result={encoding:b.getCharsetName(),confidence:b.getConfidence()};this.done=!0;break}}};this.close=function(){if(!this.done)if(0===this._mBOM.length)b.log("no data received!\n");
else{this.done=!0;if(0==this._mInputState)return b.log("pure ascii"),this.result={encoding:"ascii",confidence:1};if(2==this._mInputState){for(var d=null,c=0,e=null,f=0,g;g=this._mCharsetProbers[f];f++)g&&(d=g.getConfidence(),d>c&&(c=d,e=g),b.log(g.getCharsetName()+" confidence "+g.getConfidence()));if(e&&c>a.minimumThreshold)return this.result={encoding:e.getCharsetName(),confidence:e.getConfidence()}}if(b.enabled)for(b.log("no probers hit minimum threshhold\n"),f=0;g=this._mCharsetProbers[f];f++)g&&
b.log(g.getCharsetName()+" confidence = "+g.getConfidence()+"\n")}};this._highBitDetector=/[\x80-\xFF]/;this._escDetector=/(\x1B|~\{)/;this._mEscCharsetProber=null;this._mCharsetProbers=[];this.reset()}},{"./constants":5,"./latin1prober":7,"./logger":8,"./mbcsgroupprober":9}],12:[function(a,e,f){function d(){k.apply(this);this.reset=function(){d.prototype.reset.apply(this);this._mCodingSM.reset();this._mNumOfMBChar=0};this.getCharsetName=function(){return"UTF-8"};this.feed=function(a){for(var c=0,
d;c<a.length;c++)if(d=a[c],d=this._mCodingSM.nextState(d),d==b.error){this._mState=b.notMe;break}else if(d==b.itsMe){this._mState=b.foundIt;break}else d==b.start&&2<=this._mCodingSM.getCurrentCharLen()&&this._mNumOfMBChar++;this.getState()==b.detecting&&this.getConfidence()>b.SHORTCUT_THRESHOLD&&(this._mState=b.foundIt);return this.getState()};this.getConfidence=function(){var a=.99;if(6>this._mNumOfMBChar){for(var b=0;b<this._mNumOfMBChar;b++)a*=.5;return 1-a}return a};this._mCodingSM=new g(m);this.reset()}
var g=a("./codingstatemachine"),k=a("./charsetprober"),b=a("./constants"),m=a("./mbcssm/utf8");d.prototype=new k;e.exports=d},{"./charsetprober":3,"./codingstatemachine":4,"./constants":5,"./mbcssm/utf8":10}]},{},[1])(1)});
